<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <style>
    td {
      padding-left: 20px;
    }

    tr :last-child {
      width: 200px;
    }
  </style>
</head>
<body>
<table cellspacing="0px" border="2px" cellpadding="0px">
  <tr>
    <td>今日收益</td>
    <td id="today_llt">-</td>
  </tr>
  <tr>
    <td>挖矿速度</td>
    <td id="speed">-</td>
  </tr>
  <tr>
    <td>在线矿机</td>
    <td id="online_count">-</td>
  </tr>
  <tr>
    <td>昨日收益</td>
    <td id="yest_llt">-</td>
  </tr>
  <tr>
    <td>累计收益</td>
    <td id="total_llt">-</td>
  </tr>
  <tr>
    <td>号总收益</td>
    <td id="acc_llt_amount">-</td>
  </tr>
  <tr>
    <td>最终收益</td>
    <td id="finally_amount">-</td>
  </tr>
</table>
</body>
</html>
<script>
  function getData (url, fn) {
    var xhr = new XMLHttpRequest()
    xhr.open('GET', url, true)
    xhr.onreadystatechange = function () {
      if (xhr.readyState === 4 && xhr.status === 200 || xhr.status === 304) {
        fn.call(this, JSON.parse(xhr.responseText))
      }
    }
    xhr.send()
  }

  function interval () {
    getData('http://api.yf.djh5920.xyz/yf/info', function (data) {
      data = data.result[0]
      console.log(data)
      document.querySelector('#today_llt').innerHTML = data.today_llt
      document.querySelector('#speed').innerHTML = data.speed
      document.querySelector('#online_count').innerHTML = data.online_count
      document.querySelector('#yest_llt').innerHTML = data.yest_llt
      document.querySelector('#total_llt').innerHTML = data.total_llt
      document.querySelector('#acc_llt_amount').innerHTML = data.acc_llt_amount
      document.querySelector('#finally_amount').innerHTML = data.finally_amount
    })
  }
  interval()
  setInterval(function () {
    interval()
  },60000)
</script>